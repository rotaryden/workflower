{{define "content"}}
<div class="text-center mb-10">
    <h1 class="font-display text-4xl font-bold mb-3 text-white">Your Workflows</h1>
    <p class="text-gray-400">Track and manage all your song generation workflows</p>
</div>

{{if .Workflows}}
<div class="space-y-4">
    {{range .Workflows}}
    <a href="/workflow/{{.ID}}" class="block glass-card rounded-xl p-5 hover:border-violet-500/50 transition group">
        <div class="flex items-center justify-between">
            <div class="flex-1 min-w-0">
                <p class="text-white font-medium truncate group-hover:text-violet-300 transition">
                    {{if gt (len .TaskDescription) 60}}{{slice .TaskDescription 0 60}}...{{else}}{{.TaskDescription}}{{end}}
                </p>
                <p class="text-sm text-gray-500 mt-1">
                    {{.CreatedAt.Format "Jan 02, 2006 15:04"}}
                </p>
            </div>
            <div class="flex items-center gap-4 ml-4">
                <span class="px-3 py-1 rounded-full text-xs font-medium
                    {{if eq .Status "completed"}}bg-green-500/20 text-green-400
                    {{else if eq .Status "failed"}}bg-rose-500/20 text-rose-400
                    {{else if eq .Status "rejected"}}bg-gray-500/20 text-gray-400
                    {{else if eq .Status "awaiting_review"}}bg-amber-500/20 text-amber-400
                    {{else}}bg-violet-500/20 text-violet-400{{end}}
                ">
                    {{.Status}}
                </span>
                <svg class="w-5 h-5 text-gray-600 group-hover:text-violet-400 transition" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                </svg>
            </div>
        </div>
    </a>
    {{end}}
</div>
{{else}}
<div class="text-center py-16">
    <div class="w-16 h-16 rounded-full bg-gray-800 flex items-center justify-center mx-auto mb-4">
        <svg class="w-8 h-8 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2z"/>
        </svg>
    </div>
    <p class="text-gray-500 mb-4">No workflows yet</p>
    <a href="/" class="inline-flex items-center gap-2 text-violet-400 hover:text-violet-300 transition">
        Create your first song â†’
    </a>
</div>
{{end}}
{{end}}
